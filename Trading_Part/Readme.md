# üìä –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞—Å—á—ë—Ç–∞: –ü–ª–µ—á–æ –∏ –†–∏—Å–∫/–ü—Ä–∏–±—ã–ª—å

## üîπ –§—É–Ω–∫—Ü–∏—è `calc_leverage()`: –†–∞—Å—á—ë—Ç –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –ø–ª–µ—á–∞

–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è	–ó–Ω–∞—á–µ–Ω–∏–µ
1. balance - –ë–∞–ª–∞–Ω—Å —Ç—Ä–µ–π–¥–µ—Ä–∞ –≤ USDT
2. risk_percent	- –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É –≤ % (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.5%)
3. stop_percent	- –†–∞–∑–º–µ—Ä —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ –≤ % –æ—Ç –≤—Ö–æ–¥–∞
4. max_leverage	 - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –ø–ª–µ—á–æ

üßÆ –§–æ—Ä–º—É–ª—ã:
    –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ä–∏—Å–∫:
    risk_amount = balance * risk_percent

    –û–±—ä—ë–º –≤—Ö–æ–¥–∞:
    position_size = risk_amount / stop_percent

    –¢—Ä–µ–±—É–µ–º–æ–µ –ø–ª–µ—á–æ:
    required_leverage = position_size / balance

    –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–µ –ø–ª–µ—á–æ (–æ–∫—Ä—É–≥–ª—è–µ—Ç—Å—è):
    suggested_leverage = min(max_leverage, max(1, round(required_leverage + 0.5)))

# üìä –§—É–Ω–∫—Ü–∏—è calc_profit_risk(): –†–∞—Å—á—ë—Ç —Ä–∏—Å–∫–∞, –ø—Ä–∏–±—ã–ª–∏ –∏ –∏—Ö —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è


1. balance	–ë–∞–ª–∞–Ω—Å —Ç—Ä–µ–π–¥–µ—Ä–∞
2. risk_percent	–†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É –≤ %
3. entry_price	–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞
4. stop_loss	–£—Ä–æ–≤–µ–Ω—å —Å—Ç–æ–ø-–ª–æ—Å—Å–∞
5. take_profit	–¶–µ–ª—å –ø–æ –ø—Ä–∏–±—ã–ª–∏ (—Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç)

üßÆ –§–æ—Ä–º—É–ª—ã:
    –°—É–º–º–∞ —Ä–∏—Å–∫–∞:
    risk_amount = balance * risk_percent

    –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤—Ö–æ–¥–æ–º –∏ —Å—Ç–æ–ø–æ–º:
    price_diff_stop = abs(entry_price - stop_loss)

    –û–±—ä—ë–º –ø–æ–∑–∏—Ü–∏–∏ (–≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö –∞–∫—Ç–∏–≤–∞):
    position_size = risk_amount / price_diff_stop

    –ü—Ä–∏–±—ã–ª—å –Ω–∞ –æ–¥–Ω—É –µ–¥–∏–Ω–∏—Ü—É:
    profit_per_unit = abs(take_profit - entry_price)

    –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å:
    potential_profit = position_size * profit_per_unit

    –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å:
    risk_reward = potential_profit / risk_amount